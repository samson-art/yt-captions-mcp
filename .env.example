# Server configuration
PORT=3000
HOST=0.0.0.0

# yt-dlp timeout (in milliseconds)
YT_DLP_TIMEOUT=60000
# For 5-hour videos at ~420 KiB/s: YT_DLP_AUDIO_TIMEOUT=900000, WHISPER_TIMEOUT=3600000
# Whisper API max 25 MB; use local Whisper for long videos
# YT_DLP_AUDIO_TIMEOUT=900000

# Audio for Whisper: format (default bestaudio[abr<=192]/bestaudio), quality 0-9 (default 5)
# YT_DLP_AUDIO_FORMAT=bestaudio[abr<=192]/bestaudio
# YT_DLP_AUDIO_QUALITY=5

# Path to cookies file in Netscape format (optional)
COOKIES_FILE_PATH=/path/to/cookies.txt

# Proxy for yt-dlp (optional; http, https, or socks5)
# YT_DLP_PROXY=http://user:password@proxy.example.com:8080
# YT_DLP_PROXY=socks5://127.0.0.1:9050

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_TIME_WINDOW=1 minute
# For load testing, raise RATE_LIMIT_MAX (e.g. 1000) so limits don't cap throughput

# CORS (optional: comma-separated origins; if unset, all origins allowed)
# CORS_ALLOWED_ORIGINS=https://app.example.com,https://admin.example.com

# Graceful shutdown timeout (in milliseconds)
SHUTDOWN_TIMEOUT=10000

# Whisper fallback (when YouTube subtitles are not available)
# WHISPER_MODE=off          # off (default), local, api
# Example local (e.g. Docker service named "whisper" on port 9000):
#   WHISPER_MODE=local
#   WHISPER_BASE_URL=http://whisper:9000
#   WHISPER_TIMEOUT=120000
# Example API (OpenAI or compatible):
#   WHISPER_MODE=api
#   WHISPER_API_KEY=sk-...
#   WHISPER_API_BASE_URL=https://api.openai.com/v1

# Cache (Redis only; when CACHE_MODE=redis, CACHE_REDIS_URL is required)
# CACHE_MODE=off              # off (default), redis
# CACHE_TTL_SUBTITLES_SECONDS=604800   # 7 days for successfully fetched subtitles
# CACHE_TTL_METADATA_SECONDS=3600      # 1 hour for video info, available subtitles, chapters
# CACHE_REDIS_URL=redis://localhost:6379

# MCP HTTP server (when using start:mcp:http)
# MCP_PORT=4200
# MCP_HOST=0.0.0.0
# MCP_AUTH_TOKEN=
# MCP_RATE_LIMIT_MAX=100
# MCP_RATE_LIMIT_TIME_WINDOW=1 minute
# MCP_SESSION_TTL_MS=3600000
# MCP_SESSION_CLEANUP_INTERVAL_MS=900000
# MCP_ALLOWED_HOSTS=
# MCP_ALLOWED_ORIGINS=
# Public base URL(s) for SSE endpoint when used from another origin (e.g. Smithery)
# MCP_PUBLIC_URL=https://example.com
# MCP_PUBLIC_URLS=https://example1.com,https://example2.com

# Logging
# LOG_LEVEL=info

# Error monitoring (Sentry Cloud). If SENTRY_DSN is unset, no events are sent.
# SENTRY_DSN=
# SENTRY_ENVIRONMENT=production
# SENTRY_RELEASE=

# yt-dlp startup (optional)
# YT_DLP_SKIP_VERSION_CHECK=1
# YT_DLP_REQUIRED=0
